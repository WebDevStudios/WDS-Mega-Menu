!function($){"use strict";function Dropdown(element){$(element).on("click"+eventNamespace,this.toggle)}function positioning($menu,$control){$menu.hasClass("pull-center")&&$menu.css("margin-right",$menu.outerWidth()/-2),$menu.hasClass("pull-middle")&&$menu.css("margin-top",$menu.outerHeight()/-2-$control.outerHeight()/2)}function closeOpened(event,menuTree){if(opened){menuTree||(menuTree=[opened]);var parent;opened[0]!==menuTree[0][0]?parent=opened:(parent=menuTree[menuTree.length-1],parent.parent().hasClass(menuClass)&&(parent=parent.parent())),parent.find("."+openClass).removeClass(openClass),parent.hasClass(openClass)&&parent.removeClass(openClass),parent===opened&&(opened=null,$(backdrop).remove())}}function getSubMenuParents($submenu){for(var $parent,result=[$submenu];!$parent||$parent.hasClass(subMenuClass);)$parent=($parent||$submenu).parent(),$parent.hasClass(menuClass)&&($parent=$parent.parent()),$parent.children(toggle)&&result.unshift($parent);return result}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}var opened,toggle='[data-toggle="dropdown"]',disabled=".disabled, :disabled",backdrop=".dropdown-backdrop",menuClass="dropdown-menu",subMenuClass="dropdown-submenu",namespace=".bs.dropdown.data-api",eventNamespace=".bs.dropdown",openClass="open",touchSupport="ontouchstart"in document.documentElement,proto=Dropdown.prototype;proto.toggle=function(event){var $element=$(this);if(!$element.is(disabled)){var $parent=getParent($element),isActive=$parent.hasClass(openClass),isSubMenu=$parent.hasClass(subMenuClass),menuTree=isSubMenu?getSubMenuParents($parent):null;if(closeOpened(event,menuTree),!isActive){menuTree||(menuTree=[$parent]),!touchSupport||$parent.closest(".navbar-nav").length||menuTree[0].find(backdrop).length||$('<div class="'+backdrop.substr(1)+'"/>').appendTo(menuTree[0]).on("click",closeOpened);for(var i=0,s=menuTree.length;i<s;i++)menuTree[i].hasClass(openClass)||(menuTree[i].addClass(openClass),positioning(menuTree[i].children("."+menuClass),menuTree[i]));opened=menuTree[0]}return!1}},proto.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive||isActive&&27==e.keyCode)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.divider):visible a",desc1="li:not(.divider):visible > input:not(disabled) ~ label",$items=$parent.find(desc1+', [role="menu"]'+desc+', [role="listbox"]'+desc);if($items.length){var index=$items.index($items.filter(":focus"));38==e.keyCode&&index>0&&index--,40==e.keyCode&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}},proto.change=function(e){var $menu,$toggle,$items,text="";if($menu=$(this).closest("."+menuClass),$toggle=$menu.parent().find("[data-label-placement]"),$toggle&&$toggle.length||($toggle=$menu.parent().find(toggle)),$toggle&&$toggle.length&&$toggle.data("placeholder")!==!1){void 0==$toggle.data("placeholder")&&$toggle.data("placeholder",$.trim($toggle.text())),text=$.data($toggle[0],"placeholder"),$items=$menu.find("li > input:checked"),$items.length&&(text=[],$items.each(function(){var str=$(this).parent().find("label").eq(0),label=str.find(".data-label");if(label.length){var p=$("<p></p>");p.append(label.clone()),str=p.html()}else str=str.html();str&&text.push($.trim(str))}),text=text.length<4?text.join(", "):text.length+" selected");var caret=$toggle.find(".caret");$toggle.html(text||"&nbsp;"),caret.length&&$toggle.append(" ")&&caret.appendTo($toggle)}};var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.clearMenus=function(e){return $(backdrop).remove(),$("."+openClass+" "+toggle).each(function(){var $parent=getParent($(this)),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide"+eventNamespace,relatedTarget)),e.isDefaultPrevented()||$parent.removeClass("open").trigger("hidden"+eventNamespace,relatedTarget))}),this},$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).off(namespace).on("click"+namespace,closeOpened).on("click"+namespace,toggle,proto.toggle).on("click"+namespace,'.dropdown-menu > li > input[type="checkbox"] ~ label, .dropdown-menu > li > input[type="checkbox"], .dropdown-menu.noclose > li',function(e){e.stopPropagation()}).on("change"+namespace,'.dropdown-menu > li > input[type="checkbox"], .dropdown-menu > li > input[type="radio"]',proto.change).on("keydown"+namespace,toggle+', [role="menu"], [role="listbox"]',proto.keydown)}(jQuery);